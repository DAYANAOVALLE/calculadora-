# Sistema de Biblioteca ‚Äì API REST con FastAPI
Este proyecto es una API RESTful con una interfaz integrada que cumple la funci√≥n de una librer√≠a virtual abierta, donde el objetivo es simular una biblioteca personal donde cada usuario puede guardar libros, calificarlos y rese√±arlos y donde un usuario administrador toma el control sobre el cat√°logo.

Todo est√° construido con FastAPI, usando modelos Pydantic, manejo de roles, autenticaci√≥n con tokens tipo Bearer y un peque√±o patr√≥n Observer para registrar eventos importantes.

# üëâ caracter√≠sticas

##  Usuarios comunes

- Registro de usuarios.

- Inicio de sesi√≥n con token Bearer.

- Rol de administrador con permisos especiales (editar, crear,eliminar del catalogo global)

- Biblioteca personal para cada usuario (excepto el administrador)
## usuario administrador
al inicializar el servidor, se genera un usuario administrador por defecto:

| usuario             | contrase√±a                                                             |
| ----------------- | ------------------------------------------------------------------ |
| admini@biblioteca.com | admin123 |

## üìò Libros

- catalogo de libros disponible en la interfaz principal

- Los usuarios pueden ver contenido y agregar libros a su biblioteca.

- Los administradores pueden agregar, editar y eliminar libros.

## ‚≠ê Rese√±as

- Rese√±as y calificaciones (1 a 5 estrellas)

- los libros muestran las rese√±as dejadas por el usuario

## üîî Sistema de eventos 

Cada acci√≥n del usuario dentro del programa genera un evento, como por ejemplo:

- USUARIO_REGISTRADO

- LIBRO_CREADO

- RESE√ëA_AGREGADA

El sistema del modelo observer generan logs y ‚Äúnotificaciones‚Äù dentro del programa

# üìÇ Estructura general del proyecto
El proyecto se basa en un √∫nico archivo principal main.py, dentro de este archivo se encuentran:
- Modelos Pydantic
- Endpoints de FastAPI
- L√≥gica central mediante el LibraryFacade
- Observadores de eventos
- La interfaz HTML 
- Configuraci√≥n de seguridad y autenticaci√≥n
adem√°s de un archivo requirements.txt con todos lo necesario para el funcionamiento del programa

## ‚òÅÔ∏èdespliegue en Azure
actualmente este proyecto cuenta con una versi√≥n desplegada en azure:

[mipri.azurewebsites.net](mipri.azurewebsites.net)


## ‚ñ∂Ô∏è instalaci√≥n local 

- clonar repositorio 

`git clone https://github.com/DAYANAOVALLE/calculadora-.git`

`cd calculadora-`
- Crear el entorno virtual

`python -m venv venv`

`source venv/bin/activate` (para linux/mac)

`source venv\Scripts\activate` (para windows)


- instalar dependencias 

`pip install fastapi uvicorn`

- Ejecutar el servidor

`uvicorn main:app --reload`

- entrar a la interfaz de fastapi
abre chrome (o cualquier otro navegador de confianza) y abre este link: 
http://127.0.0.1:8000

# üóÇÔ∏è Endpoints
- usuario (solo el usuario com√∫n puede visualizarlo)
- admin (solo el administrador puede visualizarlo)
- publico(tanto el usuario com√∫n como el administrador pueden visualizarlo)

| M√©todo | Ruta                                  | Descripci√≥n       | Roles     |
| ------ | ------------------------------------- | ----------------- | ------- |
| GET    | `/api/v1/libros`                      | Lista libros      | publico |
| POST   | `/api/v1/libros`                      | Crear libro       | Admin   |
| GET    | `/api/v1/libros/{id}`                 | Ver un libro         | publico |
| PUT    | `/api/v1/libros/{id}`                 | Editar libro      | Admin   |
| DELETE | `/api/v1/libros/{id}`                 | Eliminar libro    | Admin   |
| POST   | `/api/v1/auth/login`                  | Iniciar sesi√≥n    | publico |
| POST   | `/api/v1/usuarios`                    | Registrar usuario | publico |
| GET    | `/api/v1/usuarios/me/biblioteca`      | biblioteca personal    | Usuario |
| POST   | `/api/v1/usuarios/me/biblioteca/{id}` | Agregar libro     | Usuario |
| DELETE | `/api/v1/usuarios/me/biblioteca/{id}` | Quitar libro      | Usuario |


## ‚ù§Ô∏ènuestro objetivo 
con este proyecto buscamos dos cosas, primero poder desarrollar nuestros conocimientos en FastAPI, CRUDS y patrones de dise√±o y segundo lograr desarrollar una plataforma funcional para la administraci√≥n de bibliotecas personalizadas por los usuarios 
## üß©Autores

- [DayanaOvalle :3](https://github.com/DAYANAOVALLE)

- [Fernando1215](https://github.com/Fernando1215)

- [Santiago0242](https://github.com/Santiago0242)